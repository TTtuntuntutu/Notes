## 什么是函数式编程？

函数式编程（Function Programming）

> - the process of building software by composing **pure functions**, avoiding **shared state,** **mutable data,** and **side-effects**
> - Functional code tends to be **more concise, more predictable, and easier to test** than imperative or object oriented code 



解释一下几个关键名词。



纯函数（pure Function）

- 相同参数输入，返回相同结果，不依赖可变的内部状态；
- 不产生副作用，比如修改内部状态等；
- 目的明确；

比如：

```javascript
const double = x => x * 2;

//下面两者完全等价
console.log( double(5) ); // 10
console.log(10);	//10
```



组合（Composing）

```javascript
const compose = (...fns) => x => fns.reduceRight((y, f) => f(y), x);

const g = n => n + 1;
const f = n => n * 2;
const h = compose(f, g);

h(20); //=> 42
```



避免状态共享（shared state）

- 状态共享的弊端：in order to understand the effects of a function, you have to know the entire history of every shared variable that the function uses or affects.



避免数据可变（Immutability）

-  Instead of mutating an existing data structure, such as an array or object, expressions evaluate to new data structure. 比如`Object.assign()`
- `const`不是Immutability



避免副作用（side-effects）

- 修改外部变量、对象属性等
- 写文件
- 甚至console也算吧



## JavaScript是FP语言吗？

是的！



JS拥有FP需要的最重要的几个特征：

1. 函数是一等公民
2. 支持匿名函数和 lambda 语法:  `x => x * 2`
3. 闭包



JS相比于传统FP语言的不足（因为JS是一门多范式语言，支持PP、OO、FP，在PP和OO中：everything needs to be mutable）：

1. purity（Expressions with side-effects are not allowed）：在JS中得靠自觉
2. Immutability：可以引入一些库实现
3. recursion：`for`、`while`惯坏了，仅用递归实现会不大习惯，并且JavaScript的tail call optimization打上❓



JS相比于传统FP语言的优势：

1. 浏览器
2. incredible ecosystem
3. working together❓



## 总结

JavaScript语言支持FP，但是仅JavaScript语言本身做FP是有不足的。之所以考虑 JavaScript + FP，是因为JavaScript使用广泛这个天然的优势，为了弥补劣势，JavaScript社区在做努力。



核心问题是为什么要使用FP？FP的优势场景是什么？






